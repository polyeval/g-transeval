# Results on G-TransEval
Here lists the translation results and evaluation results of different models on our benchmark.

## Translation Results
The translation generated by CodeT5, TransCoder and TransCoder-ST are listed in `./translation_results`. Their results of unit tests are listed in `./unit_test_results`.

## Evaluation Results
Here are the full experiment results of CodeBERT, CodeT5, TransCoder and TransCoder-ST evaluated on G-TransEval

### Results of CodeBERT
|Model:<br>CodeBERT| Target         | C++   |      |       |      | C#    |      |       |      | JS    |       |      |       | Python |      |       |      |
|------------------|----------------|-------|------|-------|------|-------|------|-------|------|-------|-------|------|-------|--------|------|-------|------|
| Source           | Type \ Metrics | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   |  BLEU  | EM   | CB    | CA   | BLEU   | EM   | CB    | CA   |
| Java->           | Type 1         | 93.83 | 48.80| 94.18 | 83.20| 97.72 |71.20 |97.70  |88.80 | 83.77  | 9.60 |84.91  |78.40 |81.37   |10.40 |82.67  | 78.40|
|                  | Type 2         | 89.19 | 34.40|89.17  |62.40 | 92.81 |53.60 |91.07  |65.60 | 80.22  | 8.80 |79.57  |55.20 |77.52   |7.20  |77.70  | 53.60|
|                  | Type 3         | 79.14 |7.20  |80.64  |31.20 |83.64  |16.80 |80.90  |41.60 |72.56   | 2.40 |72.13  |25.60 |74.51   |4.80  | 74.38 |28.80 |
|                  | Type 4         | 25.18 | 0.00 |33.53  |0.00  |55.05  |0.00  |51.38  |0.00  |34.05   |0.00  |36.48  |0.00  |35.89   |0.00  |37.10  |0.00  | 
| ->Java           | Type 1         | 95.68 | 72.80| 95.54 | 84.00|97.34  |66.40 |97.27  |87.20 |93.47  |54.40  |93.52 |72.80  | 81.26  |8.00  |84.14  |67.20 |
|                  | Type 2         | 77.83 | 14.40|76.30  |55.20 |90.39  |26.40 |88.44  |48.80 |77.02  |9.60   |74.01 |42.40  |69.75   |3.20  |68.04  |33.60 |
|                  | Type 3         | 71.81 | 1.60 |69.49  | 26.40|82.58  |5.60  |80.26  |28.00 |72.03  |1.60   |68.56 |20.00  |63.69   |0.80  |62.96  |16.80  |
|                  | Type 4         | 20.38 | 0.00 | 28.05 | 0.00 |49.36  |0.00  |51.30  |0.00  |22.88  |0.00   |27.93 |0.00   |26.32   |0.00  |30.22  |0.00  |

### Results of CodeT5

| Model:<br>CodeT5 | Target         | C++   |      |       |      | C#    |      |       |      | Java  |      |       |      | JS    |      |       |      | Python |      |       |      |
|--------|----------------|-------|------|-------|------|-------|------|-------|------|-------|------|-------|------|-------|------|-------|------|--------|------|-------|------|
| Source | Type \ Metrics | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   | BLEU   | EM   | CB    | CA   |
| C++    | Type 1         | /     |      |       |      | 97.98 | 81.6 | 97.71 | 93.6 | 97.39 | 85.6 | 97.35 | 94.4 | 86.6  | 13.6 | 86.75 | 91.2 | 82.08  | 12   | 82.77 | 88   |
|        | Type 2         |       |      |       |      | 87.4  | 38.4 | 85.64 | 73.6 | 82.15 | 24   | 81.28 | 83.2 | 80.8  | 8.8  | 80.41 | 74.4 | 79.59  | 8.8  | 79.67 | 75.2 |
|        | Type 3         |       |      |       |      | 80.91 | 18.4 | 78.83 | 51.2 | 74.52 | 6.4  | 74.26 | 58.4 | 73.78 | 4    | 74.57 | 51.2 | 79.13  | 6.4  | 80.21 | 68.8 |
|        | Type 4         |       |      |       |      | 33.42 | 0    | 44.72 | 0    | 33.8  | 0    | 45.19 | 0    | 32.82 | 0    | 39.49 | 0    | 35.51  | 0    | 39    | 4    |
| C#     | Type 1         | 96.4  | 62.4 | 96.57 | 97.6 | /     |      |       |      | 98.59 | 84   | 98.77 | 97.6 | 85.44 | 12.8 | 86.31 | 90.4 | 82.34  | 10.4 | 83.41 | 91.2 |
|        | Type 2         | 91.79 | 46.4 | 92.21 | 72   |       |      |       |      | 94.75 | 47.2 | 92.94 | 75.2 | 80.96 | 7.2  | 81.22 | 68.8 | 80.01  | 8.8  | 79.85 | 66.4 |
|        | Type 3         | 83.23 | 20   | 84.26 | 54.4 |       |      |       |      | 87.48 | 13.6 | 85.34 | 56.8 | 77.07 | 4    | 76.92 | 41.6 | 79.36  | 6.4  | 80.35 | 63.2 |
|        | Type 4         | 32.62 | 0    | 41.84 | 0    |       |      |       |      | 55.8  | 0    | 58.5  | 0    | 44.28 | 0    | 45.44 | 4    | 39.11  | 0    | 41.35 | 0    |
| Java   | Type 1         | 94.14 | 52   | 94.41 | 90.4 | 98.38 | 78.4 | 98.4  | 92.8 | /     |      |       |      | 84.67 | 12   | 85.25 | 85.6 | 82.71  | 11.2 | 83.07 | 88   |
|        | Type 2         | 91.33 | 37.6 | 91.47 | 72.8 | 93.58 | 61.6 | 92.24 | 77.6 |       |      |       |      | 82.74 | 8.8  | 82.06 | 73.6 | 78.9   | 8.8  | 79.11 | 74.4 |
|        | Type 3         | 83.66 | 16   | 84.67 | 48   | 85.62 | 26.4 | 83.79 | 66.4 |       |      |       |      | 75.18 | 4    | 75.71 | 52.8 | 78.62  | 9.6  | 78.95 | 68   |
|        | Type 4         | 31.76 | 0    | 40.87 | 0    | 58.86 | 0    | 54.11 | 0    |       |      |       |      | 31.76 | 0    | 40.87 | 0    | 58.86  | 0    | 54.11 | 0    |
| JS     | Type 1         | 94.17 | 52   | 94.6  | 88.8 | 94.5  | 56   | 94.61 | 80   | 93.46 | 60.8 | 93.81 | 76.8 | /     |      |       |      | 82.31  | 10.4 | 83.23 | 88.8 |
|        | Type 2         | 86.77 | 23.2 | 88    | 51.2 | 84.38 | 22.4 | 82.05 | 52.8 | 80.35 | 15.2 | 78.07 | 62.4 |       |      |       |      | 80.71  | 13.6 | 81.54 | 74.4 |
|        | Type 3         | 79.19 | 11.2 | 80.78 | 28.8 | 80.23 | 9.6  | 77.66 | 45.6 | 74.26 | 1.6  | 72.04 | 37.6 |       |      |       |      | 79.42  | 6.4  | 80.59 | 67.2 |
|        | Type 4         | 32.53 | 0    | 40.3  | 0    | 34.27 | 0    | 36.95 | 0    | 29.71 | 0    | 36.61 | 0    |       |      |       |      | 40.64  | 0    | 41.42 | 0    |
| Python | Type 1         | 83.13 | 8    | 84.17 | 78.4 | 83.23 | 11.2 | 84.64 | 75.2 | 81.98 | 9.6  | 84.81 | 78.4 | 72.06 | 2.4  | 74.55 | 69.6 | /      |      |       |      |
|        | Type 2         | 78.99 | 8    | 80.51 | 43.2 | 77.07 | 7.2  | 76.23 | 48   | 69.57 | 4    | 68.91 | 50.4 | 72.78 | 6.4  | 73.9  | 64.8 |        |      |       |      |
|        | Type 3         | 70.63 | 0.8  | 73.08 | 20   | 71.96 | 3.2  | 71.62 | 40   | 67.47 | 1.6  | 67.61 | 44.8 | 70.33 | 2.4  | 71.9  | 47.2 |        |      |       |      |
|        | Type 4         | 25.45 | 0    | 35.73 | 0    | 26.51 | 0    | 31.8  | 0    | 21.79 | 0    | 28.13 | 0    | 31.66 | 0    | 34.77 | 8    |        |      |       |      |

### Results of TransCoder

| Model:<br>TransCoder | Target          | C++   |      |       |      | Java  |      |       |      | Python |      |       |      |
|------------|-----------------|-------|------|-------|------|-------|------|-------|------|--------|------|-------|------|
| Source     | Type \ Metrics | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   | BLEU   | EM   | CB    | CA   |
| C++        | Type 1          | /     |      |       |      | 93.55 | 52.8 | 94.22 | 92.8 | 86.49  | 28.8 | 83.65 | 56   |
|            | Type 2          |       |      |       |      | 69.5  | 4.8  | 68.77 | 57.6 | 86.04  | 36.8 | 85.22 | 59.2 |
|            | Type 3          |       |      |       |      | 68.86 | 1.6  | 66.27 | 33.6 | 76.01  | 6.4  | 75.89 | 19.2 |
|            | Type 4          |       |      |       |      | 31.75 | 0    | 48.37 | 0    | 37.69  | 0    | 44.69 | 0    |
| Java       | Type 1          | 89.73 | 27.2 | 90.61 | 94.4 | /     |      |       |      | 86.28  | 28.8 | 83.73 | 57.6 |
|            | Type 2          | 83.76 | 7.2  | 84.95 | 69.6 |       |      |       |      | 84.39  | 31.2 | 84.37 | 60.8 |
|            | Type 3          | 74.83 | 4    | 78.02 | 38.4 |       |      |       |      | 78.04  | 8    | 77.71 | 26.4 |
|            | Type 4          | 19.91 | 0    | 30.09 | 0    |       |      |       |      | 37.71  | 0    | 39.35 | 0    |
| Python     | Type 1          | 81.21 | 10.4 | 83.24 | 78.4 | 82.82 | 17.6 | 85.32 | 78.4 | /      |      |       |      |
|            | Type 2          | 73.54 | 6.4  | 76.94 | 45.6 | 65.13 | 1.6  | 65.18 | 46.4 |        |      |       |      |
|            | Type 3          | 64.18 | 2.4  | 68.79 | 12   | 65    | 1.6  | 63.76 | 19.2 |        |      |       |      |
|            | Type 4          | 23.51 | 0    | 31.64 | 0    | 25.99 | 0    | 34.39 | 0    |        |      |       |      |

### Results of TransCoder-ST 

The official checkpoints of TransCoder-ST have problems with Python-to-C++ translation, leading to lower scores. 

| Model:<br>TransCoder-ST | Target          | C++   |      |       |      | Java  |      |       |      | Python |      |       |      |
|---------------|-----------------|-------|------|-------|------|-------|------|-------|------|--------|------|-------|------|
| Source        | Type \ Metrics | BLEU  | EM   | CB    | CA   | BLEU  | EM   | CB    | CA   | BLEU   | EM   | CB    | CA   |
| C++           | Type 1          | /     |      |       |      | 94.5  | 53.6 | 95.15 | 95.2 | 90.83  | 47.2 | 89.6  | 84   |
|               | Type 2          |       |      |       |      | 70.11 | 5.6  | 69.55 | 55.2 | 87.06  | 41.6 | 87.47 | 71.2 |
|               | Type 3          |       |      |       |      | 68.45 | 3.2  | 67.69 | 36.8 | 80.94  | 11.2 | 80.37 | 34.4 |
|               | Type 4          |       |      |       |      | 33.38 | 0    | 43.06 | 0    | 39.49  | 0    | 45.87 | 0    |
| Java          | Type 1          | 87.95 | 18.4 | 88.78 | 97.6 | /     |      |       |      | 90.12  | 43.2 | 88.66 | 80.8 |
|               | Type 2          | 83.93 | 4.8  | 84.85 | 71.2 |       |      |       |      | 87.38  | 36   | 87.6  | 76   |
|               | Type 3          | 76.2  | 3.2  | 79.26 | 40.8 |       |      |       |      | 84.42  | 20.8 | 84.15 | 69.6 |
|               | Type 4          | 24.96 | 0    | 34.78 | 4    |       |      |       |      | 50.99  | 4    | 49.5  | 4    |
| Python        | Type 1          | 66.92 | 5.6  | 80.71 | 78.4 | 90.86 | 38.4 | 91.94 | 88   | /      |      |       |      |
|               | Type 2          | 54.83 | 0    | 67.02 | 18.4 | 66.11 | 4.8  | 64.82 | 51.2 |        |      |       |      |
|               | Type 3          | 55.4  | 0    | 66.33 | 14.4 | 70.84 | 5.6  | 69.14 | 38.4 |        |      |       |      |
|               | Type 4          | 14.57 | 0    | 27.32 | 0    | 24.36 | 0    | 29.51 | 0    |        |      |       |      |

### Effect of Training Data Size with CodeT5 Model
We explore the results of training CodeT5 with only 1000, 500, 200 and 100 samples. Here displays the full data of the experiment that explores the impact of size of training samples in our paper.

|            | Target               | Java→X |      |        |      |        |      |        |    | X→Java |      |        |      |        |      |        |    |
|------------|----------------------|--------|------|--------|------|--------|------|--------|----|--------|------|--------|------|--------|------|--------|----|
| Source     | Type                 | Type 1 |      | Type 2 |      | Type 3 |      | Type 4 |    | Type 1 |      | Type 2 |      | Type 3 |      | Type 4 |    |
|            | Train Size \ Metrics | BLEU   | CA   | BLEU   | CA   | BLEU   | CA   | BLEU   | CA | BLEU   | CA   | BLEU   | CA   | BLEU   | CA   | BLEU   | CA |
| C++        | 100                  | 96.59  | 79.2 | 82.54  | 21.6 | 69.72  | 3.2  | 28.22  | 0  | 95.94  | 79.2 | 68.25  | 24   | 59.2   | 8.8  | 23.92  | 0  |
|            | 200                  | 96.5   | 88   | 86.25  | 40.8 | 74.13  | 11.2 | 27.71  | 0  | 96.85  | 88   | 75.55  | 39.2 | 66.17  | 16   | 28.88  | 0  |
|            | 500                  | 96.15  | 88   | 88.97  | 55.2 | 76.03  | 18.4 | 31.12  | 0  | 96.41  | 88.8 | 79.01  | 50.4 | 71.18  | 19.2 | 32.35  | 0  |
|            | 1000                 | 95.63  | 94.4 | 91.28  | 64.8 | 78.8   | 27.2 | 34.65  | 0  | 97.18  | 90.4 | 80.67  | 66.4 | 72.62  | 29.6 | 32.06  | 0  |
|            | Full                 | 94.14  | 90.4 | 91.33  | 72.8 | 83.66  | 48   | 31.76  | 0  | 97.39  | 94.4 | 82.15  | 83.2 | 74.52  | 58.4 | 33.8   | 0  |
| Python     | 100                  | 80.15  | 56.8 | 70.48  | 20.8 | 67.11  | 4    | 36.86  | 0  | 77.01  | 44   | 53.07  | 7.2  | 49.57  | 4    | 15.79  | 0  |
|            | 200                  | 82.44  | 63.2 | 75.57  | 38.4 | 70.44  | 8.8  | 39.35  | 0  | 80.27  | 56   | 59.29  | 13.6 | 56.43  | 4.8  | 18.32  | 0  |
|            | 500                  | 83.18  | 72.8 | 78.83  | 52.8 | 74.52  | 17.6 | 35.59  | 0  | 80.05  | 60   | 62.88  | 24.8 | 61.58  | 8.8  | 20.77  | 0  |
|            | 1000                 | 83.33  | 80   | 80.27  | 63.2 | 78.54  | 31.2 | 38.89  | 0  | 80.15  | 63.2 | 65.92  | 30.4 | 63.18  | 16.8 | 22.27  | 0  |
|            | Full                 | 82.71  | 88   | 78.9   | 74.4 | 78.62  | 68   | 37.08  | 0  | 81.98  | 78.4 | 69.57  | 50.4 | 67.47  | 44.8 | 21.79  | 0  |
| C#         | 100                  | 98.03  | 90.4 | 91.43  | 40   | 82.8   | 17.6 | 49.44  | 0  | 97.52  | 88.8 | 78.41  | 27.2 | 71.36  | 9.6  | 34.86  | 0  |
|            | 200                  | 98.54  | 94.4 | 92.8   | 45.6 | 83.73  | 17.6 | 59.65  | 0  | 98.45  | 93.6 | 83.24  | 47.2 | 77.04  | 17.6 | 52.43  | 0  |
|            | 500                  | 98.92  | 96.8 | 95.65  | 69.6 | 88.5   | 32   | 60.38  | 0  | 98.17  | 91.2 | 92.89  | 59.2 | 82.94  | 24   | 54.1   | 0  |
|            | 1000                 | 99.09  | 96   | 95.56  | 73.6 | 88.13  | 42.4 | 64.41  | 0  | 98.81  | 96.8 | 95.39  | 71.2 | 86.55  | 29.6 | 51.59  | 0  |
|            | Full                 | 98.38  | 92.8 | 93.58  | 77.6 | 85.62  | 66.4 | 58.86  | 0  | 98.59  | 97.6 | 94.75  | 75.2 | 87.48  | 56.8 | 55.8   | 0  |
| JavaScript | 100                  | 83.59  | 68   | 75.55  | 26.4 | 68.06  | 6.4  | 42.72  | 0  | 91.4   | 60.8 | 66.36  | 13.6 | 61.82  | 2.4  | 23.66  | 0  |
|            | 200                  | 85.56  | 75.2 | 81.96  | 51.2 | 73.25  | 13.6 | 43.86  | 0  | 92.44  | 68.8 | 68.03  | 25.6 | 65.97  | 6.4  | 27.85  | 0  |
|            | 500                  | 85.05  | 72.8 | 83.52  | 57.6 | 74.95  | 23.2 | 40.41  | 0  | 92.85  | 71.2 | 75.48  | 40   | 72.03  | 16   | 34.78  | 0  |
|            | 1000                 | 86.02  | 81.6 | 84.67  | 68.8 | 76.15  | 33.6 | 44.59  | 0  | 93.56  | 75.2 | 75.2   | 44.8 | 71.83  | 20   | 27.8   | 0  |
|            | Full                 | 84.67  | 85.6 | 82.74  | 73.6 | 75.18  | 52.8 | 43.2   | 8  | 93.46  | 76.8 | 80.35  | 62.4 | 74.26  | 37.6 | 29.71  | 0  |

### Results of gpt-3.5-turbo
|Model:<br>gpt-3.5-turbo| Target         | C++   |      |       | C#    |      |      | JS    |       |       | Python |      |       |
|-----------------------|----------------|-------|------|-------|-------|------|------|-------|-------|-------|-------|------|-------|
| Source                | Type \ Metrics | BLEU  | CB   | CA    | BLEU  | CB   | CA   | BLEU  | CB    | CA    | BLEU   | CB   | CA    |
| Java->                | Type 1         | 90.04 |91.53 |99.20  |97.60  | 98.21| 100.0| 83.67 |83.23  |96.00  | 55.27  |69.39 |96.00  |
|                       | Type 2         | 83.10 |83.72 |87.20  |95.52  | 95.69| 98.40| 85.86 |84.31  |91.20  | 54.78  |67.08 |93.60  |
|                       | Type 3         | 80.77 |80.28 |81.60  |90.80  | 88.69| 88.00| 81.53 |81.25  |91.20  | 53.76  |65.10 |94.40  |
|                       | Type 4         | 35.57 |43.08 |68.00  |86.22  | 88.11| 88.00| 61.67 |61.99  |76.00  | 27.59  |40.42 |72.00  |
| ->Java                | Type 1         | 89.93 |92.66 |98.40  |96.78  |97.72 | 99.20| 92.36 |93.60  |91.20  | 86.65  |89.69 |88.80  |
|                       | Type 2         | 84.06 |82.68 |88.80  |95.25  |94.38 | 100.0| 76.41 |73.59  |80.80  | 74.72  |72.20 |84.80  |
|                       | Type 3         | 83.48 |80.18 |91.20  |90.72  |87.63 | 96.80| 73.91 |73.07  |87.20  | 74.48  |74.00 |85.60  |
|                       | Type 4         | 44.73 |55.14 |68.00  |77.79  |80.23 | 80.00| 35.62 |47.78  |88.00  | 37.60  |47.81 |64.00  |


### Results of StarCoderBase
|Model:<br>StarCoderBase| Target         | C++   |      |       | C#    |      |      | JS    |       |       | Python |      |       |
|-----------------------|----------------|-------|------|-------|-------|------|------|-------|-------|-------|-------|------|-------|
| Source                | Type \ Metrics | BLEU  | CB   | CA    | BLEU  | CB   | CA   | BLEU  | CB    | CA    | BLEU   | CB   | CA    |
| Java->                | Type 1         | 94.64 |94.49 |96.00  |98.86  |98.77 |100.0 | 81.66 |81.74  |78.40  | 61.11  |73.84 |85.60  |
|                       | Type 2         | 91.96 |91.03 |93.60  |95.89  |95.38 |89.60 | 84.51 |83.32  |88.00  | 61.48  |72.61 |83.20  |
|                       | Type 3         | 87.71 |85.83 |78.40  |91.34  |87.91 |76.00 | 81.09 |80.32  |80.00  | 62.51  |74.21 |88.80  |
|                       | Type 4         | 40.61 |44.95 |48.00  |80.37  |79.18 |56.00 | 49.29 |47.52  |56.00  | 41.14  |47.91 |44.00  |
| ->Java                | Type 1         | 93.76 |95.40 |91.20  |99.41  |99.33 |99.20 | 92.05 |92.30  |64.80  | 92.96  |93.02 |84.80  |
|                       | Type 2         | 90.35 |88.75 |79.20  |94.43  |89.66 |80.80 | 88.54 |85.53  |63.20  | 87.13  |84.62 |79.20  |
|                       | Type 3         | 88.29 |86.41 |84.00  |90.97  |85.36 |72.80 | 86.07 |84.49  |60.80  | 85.08  |82.97 |73.60  |
|                       | Type 4         | 60.73 |64.25 |68.00  |76.80  |74.89 |44.00 | 55.72 |62.60  |64.00  | 54.09  |59.55 |72.00  |